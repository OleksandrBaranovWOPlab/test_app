datasource db {
  provider = "postgresql"
  url      = env("DB_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Expense {
  id           String               @id @default(cuid())
  createdAt    DateTime             @default(now())
  updatedAt    DateTime             @updatedAt
  date         DateTime?
  category     EnumExpenseCategory?
  receiptImage Json?
  description  String?
  amount       Float?
  user         User?                @relation(fields: [userId], references: [id])
  userId       String?
}

model OptimizationSuggestion {
  id             String                              @id @default(cuid())
  createdAt      DateTime                            @default(now())
  updatedAt      DateTime                            @updatedAt
  description    String?
  savingsAmount  Float?
  priority       EnumOptimizationSuggestionPriority?
  relatedExpense String?
}

model SavingsStatistics {
  id                String                                  @id @default(cuid())
  createdAt         DateTime                                @default(now())
  updatedAt         DateTime                                @updatedAt
  timePeriod        String?
  totalSavings      Float?
  optimizationLevel EnumSavingsStatisticsOptimizationLevel?
  user              User?                                   @relation(fields: [userId], references: [id])
  userId            String?
}

model User {
  id                     String              @id @default(cuid())
  createdAt              DateTime            @default(now())
  updatedAt              DateTime            @updatedAt
  firstName              String?
  lastName               String?
  username               String              @unique
  email                  String?             @unique
  password               String
  roles                  Json
  phoneNumber            String?
  preferences            Json?
  expenses               Expense[]
  savingsStatisticsItems SavingsStatistics[]
}

enum EnumExpenseCategory {
  Option1
}

enum EnumOptimizationSuggestionPriority {
  Option1
}

enum EnumSavingsStatisticsOptimizationLevel {
  Option1
}
